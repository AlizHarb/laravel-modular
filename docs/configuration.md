# Configuration Reference



## `modular.php` (Global Config)

This file lives in `config/modular.php`.

### Paths
Where your code lives.

```php
'paths' => [
    // Where modules are stored. Change to base_path('packages') if you want.
    'modules' => base_path('modules'),
    
    // Where assets are symlinked to in public/
    'assets' => 'modules', 
],
```

### Naming
Code generation defaults.

```php
'naming' => [
    // The PSR-4 namespace prefix. 
    // Changing this requires updating composer.json autoloading manually.
    'root_namespace' => 'Modules', 
    
    // View/Config hint prefix. 
    // 'module' -> view('module::index')
    'resource_prefix' => 'module', 
],
```

### Discovery (Performance Tuning)
Turn off what you don't use. This saves milliseconds during boot.

```php
'discovery' => [
    'configs' => true,      // Scan config/*.php
    'views' => true,        // Scan Resources/views
    'translations' => true, // Scan lang/
    'migrations' => true,   // Scan Database/Migrations
    'routes' => true,       // Scan Routes/*.php
    'blade_components' => true, // Scan View/Components
],
```

### Stubs (Customization)
Customize the files generated by `make:module`.

```php
'stubs' => [
    'enabled' => true,
    'path' => base_path('stubs/modular'), // Copy stubs here
],
```

### Activators (State Persistence)
How we remember if a module is enabled or disabled.

```php
'activators' => [
    'file' => [
        'class' => \AlizHarb\Modular\Activators\FileActivator::class,
        // Stores {"Blog": true} JSON map
        'statuses-file' => base_path('bootstrap/cache/modules_statuses.json'),
    ],
],
```

---

## `module.json` (Module Config)

This file **must** exist in the root of every module (e.g., `packages/modular/Shop/module.json`).

### Full Schema

```json
{
    "name": "Shop",
    "namespace": "Modules\\Shop\\",
    "provider": "Modules\\Shop\\Providers\\ShopServiceProvider",
    "description": "E-commerce functionality",
    "version": "1.0.0",
    "authors": [
        {
            "name": "Ali Harb",
            "email": "harb@example.com"
        }
    ],
    "requires": [],
    "removable": true,
    "disableable": true,
    "extra": {}
}
```

### Schema Details

- **`name`**: (Required) Unique identifier. Must match directory name.
- **`namespace`**: (Optional) The PSR-4 namespace. Derived from name if omitted.
- **`provider`**: (Required) The primary ServiceProvider class to boot.
- **`description`**: (String) A brief description of the module.
- **`version`**: (String) Semantic version of the module.
- **`authors`**: (Array) List of authors with `name` and `email`.
- **`requires`**: (Array) List of other modules this module depends on.
- **`removable`**: (Boolean) Whether the module can be removed via UI/CLI (default: true).
- **`disableable`**: (Boolean) Whether the module can be disabled (default: true).
- **`extra`**: (Object) Custom configuration storage.
